function updateUnscheduled(){var e,t,n;e=$("#unscheduled").sortable("serialize"),$.ajax({url:"/trips/1/schedule/sort_unscheduled",type:"PUT",data:e}),$("#unscheduled").toggle_empty_class()}function updateRoom(e){var t,n,r,i,s,o;t=e.closest(".room"),n=e.closest(".room").attr("class").match(/room_(\d+)/)[1],r=e.closest(".room").attr("class").match(/day_(\d+)/)[1],i=t.sortable("serialize")+"&room_number="+n+"&day="+r,$.ajax({url:"/trips/1/schedule/sort_room",type:"PUT",data:i}),t.toggle_empty_class()}jQuery.expr[":"].contains=function(e,t,n){return $(e).text().toUpperCase().indexOf(n[3].toUpperCase())>=0},$(document).ready(function(){$(".room.connectedSortable").sortable({items:".sortable",placeholder:"case_group_order_placeholder",connectWith:".connectedSortable",opacity:.7,helper:"clone",cursor:"move",receive:function(e,t){t.sender.find("#"+t.item.attr("id")).remove()},update:function(e,t){var n;n=t.item.attr("id"),updateRoom($(this)),t.sender&&t.sender.find("#"+t.item.attr("id")).remove(),$("#"+n).flash()}}).disableSelection(),$("#unscheduled").sortable({items:".sortable",placeholder:"case_group_order_placeholder",connectWith:".connectedSortable",opacity:.7,helper:"clone",cursor:"move",receive:function(e,t){t.sender.find("#"+t.item.attr("id")).remove()},update:function(e,t){var n;n=t.item.attr("id"),updateUnscheduled(),t.sender&&t.sender.find("#"+t.item.attr("id")).remove(),$("#"+n).flash()}}).disableSelection(),$("#unscheduled_filter").keyup(function(){var e;e=$(this).val(),$("#source .case_group").hide(),$("#source .case_group:contains('"+e+"')").show()})});