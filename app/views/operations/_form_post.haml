= semantic_form_for [@diagnosis,@operation] do |f|
  = f.semantic_errors
  = f.inputs do
    = f.input :primary_surgeon_id, :as => :select, :label => 'Primary Surgeon', :collection => User.doctor
    = f.input :secondary_surgeon_id, :as => :select, :label => 'Secondary Surgeon', :collection => User.doctor
    = f.input :anesthesiologist_id, :as => :select, :label => 'Anesthesiologist', :collection => User.anesthesiologist
    = f.input :approach, :as => :select, :label => 'Approach', :collection => Operation::approaches
    = f.input :difficulty, :as => :radio, :label => "Difficulty", :collection => Operation::difficulty_table.invert
    = f.input :graft, :label => 'Graft'
    = f.input :ambulatory_order, :as => :select, :label => 'Ambulatory Order', :collection => Operation::ambulatory_orders
    = f.input :notes, :label => 'Notes'
  = f.buttons do
    = f.commit_button
